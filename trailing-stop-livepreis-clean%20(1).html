<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Trailing Stop Rechner ‚Äì Gewinnbasiert</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500&display=swap" rel="stylesheet"/>
<style>
  body {
    font-family: 'Inter', sans-serif;
    padding: 40px;
    background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
    color: white;
  }

  h1 {
    color: #00e6b8;
    margin-bottom: 30px;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
  }

  label {
    margin-bottom: 6px;
    font-weight: 500;
  }

  input, select {
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    border: none;
    background-color: #1c1c1c;
    color: white;
  }

  button {
    margin-top: 30px;
    padding: 12px 24px;
    background-color: #00e6b8;
    color: black;
    font-weight: bold;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
  }

  button:hover {
    background-color: #00bfa6;
  }

  .result {
    margin-top: 30px;
    background-color: #1a1a1a;
    padding: 20px;
    border-radius: 10px;
    border-left: 4px solid #00e6b8;
  }

  .highlight {
    color: #00e6b8;
    font-weight: bold;
    font-size: 1.4em;
  }
</style>
</head>
<body>
<h1>üéØ Trailing Stop Rechner (Zielgewinn-Modus)</h1>
<div class="grid">
  <div>
    <label for="entryPrice">Break Even Preis</label>
    <input id="entryPrice" type="number" placeholder="z.‚ÄØB. 100" step="0.01"/>
  </div>
  <div>
    <label for="leverage">Hebel</label>
    <input id="leverage" type="number" placeholder="z.‚ÄØB. 25" step="0.1"/>
  </div>
  <div>
    <label for="targetPercent">Ziel-Gewinn in % (mit Hebel)</label>
    <input id="targetPercent" type="number" placeholder="z.‚ÄØB. 100" step="0.01"/>
  </div>
  <div>
    <label for="callback">Callback Rate (%)</label>
    <input id="callback" type="number" placeholder="z.‚ÄØB. 1" step="0.01"/>
  </div>
  <div style="grid-column: span 2;">
    <label for="direction">Trade-Richtung</label>
    <select id="direction">
      <option value="long">Long</option>
      <option value="short">Short</option>
    </select>
  </div>
</div>
<button onclick="calculate()">üßÆ Berechnen</button>
<div class="result" id="output"></div>
<script>
  function calculate() {
    const entry = parseFloat(document.getElementById('entryPrice').value);
    const leverage = parseFloat(document.getElementById('leverage').value);
    const targetPercent = parseFloat(document.getElementById('targetPercent').value);
    const callback = parseFloat(document.getElementById('callback').value);
    const direction = document.getElementById('direction').value;

    if ([entry, leverage, targetPercent, callback].some(isNaN) || leverage === 0) {
      document.getElementById('output').innerHTML = "<span style='color: #f87171;'>Bitte alle Felder korrekt ausf√ºllen.</span>";
      return;
    }

    const movePercent = targetPercent / leverage;
    const targetPrice = direction === "long"
      ? entry * (1 + movePercent / 100)
      : entry * (1 - movePercent / 100);

    const trailingStopPercent = movePercent * (callback / 100);
    const trailingDistance = entry * (trailingStopPercent / 100);

    const trailingStopPrice = direction === "long"
      ? targetPrice - trailingDistance
      : targetPrice + trailingDistance;

    document.getElementById('output').innerHTML = `
      <strong>üìà Richtung:</strong> ${direction.toUpperCase()}<br>
      <strong>üìä Gewinn:</strong> <span>${targetPercent.toFixed(2)}%</span><br>
      <strong>üõ°Ô∏è Trailing Stop:</strong> <span>${trailingStopPrice.toFixed(4)}</span><br><br>
      <strong>üìâ Bewegung ohne Hebel:</strong> ${movePercent.toFixed(5)} %<br>
      <strong>üí° Callback Rate vom Einstieg:</strong> <span class="highlight">${trailingStopPercent.toFixed(5)} %</span>
    `;
  }
</script>
</body>
</html>
